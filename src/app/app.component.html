<div class="sidenav-area">

  <!-- Header -->
  <div class="toolbar">

    <!-- Progress bar -->
    <mat-progress-bar *ngIf="app.progressbar.isVisible" mode="indeterminate" color="warn">
    </mat-progress-bar>

    <mat-toolbar *ngIf="showHeader && !coverHeader">
      <button mat-icon-button *ngIf="app.sidenav.toggleButton.isVisible">
        <!-- TODO: use reducer instead of local variable -->
        <mat-icon (click)="start.toggle()">menu</mat-icon>
      </button>
      <span *ngIf="app.logo.isVisible" matTooltip="Client is connected to node! {{app.node.timestamp}}" matTooltipPosition="left" style="margin-left:10px">
        simplestaking.com</span>

      <!-- 
      <mat-icon 
        *ngIf="app.node.isConnected"
        matTooltip="Client is connected to node! {{app.node.timestamp}}"
        matTooltipPosition="left">wifi</mat-icon> -->

      <mat-icon color="warn" *ngIf="!app.node.isConnected" matTooltip="Node is out of sync! {{app.node.timestamp}}" matTooltipPosition="left">cloud_off</mat-icon>

      <mat-icon color="accent" *ngIf="!app.node.isUpdated" matTooltip="Client is disconected from node! {{app.node.timestamp}}"
        matTooltipPosition="left">warning</mat-icon>

      <!-- create space -->

      <span class="filler-content"></span>

      <app-auth></app-auth>

      <button *ngIf="!app.user.uid" mat-button routerLink="/login">
        Sign in
      </button>

      <!-- <button *ngIf="!app.user.uid" mat-raised-button color="warn" routerLink="/registration">
        Create Account
      </button> -->

      <button *ngIf="app.user.uid" mat-button>
        {{app.user.email}}
      </button>

      <button *ngIf="app.user.uid" mat-button (click)="signOut()">
        Sign out
      </button>

      <!-- <button *ngIf="app.user.uid" mat-icon-button [matMenuTriggerFor]="userMenu">
        <mat-icon>more_vert</mat-icon>
      </button> -->

      <!-- <mat-menu #userMenu="matMenu" [overlapTrigger]="false" [yPosition]="below" [xPosition]="after">
        <button *ngIf="app.user.uid" mat-menu-item (click)="signOut()">
          Sign out
        </button>
      </mat-menu> -->



    </mat-toolbar>
  </div>

  <!-- Sidebar -->
  <mat-sidenav-container>
    <mat-sidenav #start mode="side" [opened]="app.sidenav.isVisible" [fixedInViewport]="fixed" [fixedTopGap]="fixedTop" [fixedBottomGap]="fixedBottom">
      <mat-nav-list>
        <!-- <a mat-list-item routerLink="/balance">Balance</a> -->
        <a mat-list-item routerLink="/accounts">Wallet</a>
        <!-- <a mat-list-item routerLink="/transactions">Transactions</a> -->
        <a mat-list-item routerLink="/delegates">Explorer</a>
        <a mat-list-item routerLink="/trezor">Trezor</a> 
        <!-- <a mat-list-item routerLink="/settings">Settings</a>  -->
      </mat-nav-list>

    </mat-sidenav>

    <!-- Content -->
    <mat-sidenav-content>
      <mat-toolbar *ngIf="showHeader && coverHeader">Header</mat-toolbar>
      <div class="sidenav-content">


        <router-outlet></router-outlet>

      </div>
      <mat-toolbar *ngIf="showFooter && coverHeader">Footer</mat-toolbar>
    </mat-sidenav-content>
  </mat-sidenav-container>
  <mat-toolbar *ngIf="showFooter && !coverHeader">Footer</mat-toolbar>
</div>